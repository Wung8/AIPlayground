<!-- backend/templates/_play_sidebar.html -->
<aside class="play-left">
  <div class="play-left-card">
    <div class="play-left-title">Select Players:</div>

    {% for i in range(num_players) %}
      <div class="play-field">
        <div class="play-label">P{{ i + 1 }}:</div>
        <input 
          class="play-input" 
          id="p{{ i + 1 }}Input"
          type="text" 
          value="Human"
        />
      </div>
    {% endfor %}

    <div class="play-tabs" role="tablist" aria-label="Bot list tabs">
      <button
        type="button"
        class="play-tab is-active"
        role="tab"
        aria-selected="true"
        aria-controls="tab-browse"
        id="tabBtnBrowse"
        data-tab="browse"
      >Browse</button>

      <button
        type="button"
        class="play-tab"
        role="tab"
        aria-selected="false"
        aria-controls="tab-mine"
        id="tabBtnMine"
        data-tab="mine"
      >My Bots</button>
    </div>

    <div class="play-tabpanes">
      <!-- browse tab -->
      <section class="play-pane is-active" role="tabpanel" id="tab-browse" aria-labelledby="tabBtnBrowse">
        <div class="play-search">
          <div class="play-search-row">
            <div class="play-search-label">Search Bots:</div>
            <input class="play-search-box-input" id="botSearch" type="text" placeholder="search" />
          </div>

          <div class="play-sort-row">
            <div class="play-sort-label">Sort By:</div>
            <button class="play-sort-pill" type="button" id="sortByElo">Elo</button>

            <button class="play-filter-pill" type="button" id="eloFilterBtn" aria-haspopup="dialog" aria-expanded="false">
              Elo: Any
            </button>
          </div>

          <div class="play-elo-pop" id="eloPop" aria-hidden="true">
            <div class="play-elo-row">
              <input class="play-elo-input" id="eloMin" type="number" placeholder="min" />
              <div class="play-elo-to">to</div>
              <input class="play-elo-input" id="eloMax" type="number" placeholder="max" />
              <button class="play-elo-clear" type="button" id="eloClear">Clear</button>
            </div>
          </div>
        </div>

        <div class="play-botlist" id="browseList">
          {% for b in bots %}
            <button class="bot-row bot-row-btn" type="button" data-bot="{{ b.name }}">
              <div class="bot-name">{{ b.name }}</div>
              <div class="bot-meta">
                <div class="bot-elo">elo: {{ b.elo }}</div>
                <div class="bot-by">by: {{ b.creator.username }}</div>
              </div>
            </button>
          {% endfor %}
        </div>
      </section>

      <!-- my bots tab -->
      <section class="play-pane" role="tabpanel" id="tab-mine" aria-labelledby="tabBtnMine">

        <div class="play-botlist" id="myBotsList">
          {% for b in my_bots %}
            <button class="bot-row bot-row-btn" type="button" data-bot="{{ b.name }}">
              <div class="bot-name">{{ b.name }}</div>
              <div class="bot-meta">
                <div class="bot-elo">elo: {{ b.elo }}</div>
                <div class="bot-by">by: {{ b.creator.username }}</div>
              </div>
            </button>
          {% endfor %}
          {% if current_user.is_authenticated %}
            {% if my_bots|length == 3 %}
              <div class="play-mine-note">Maximum of 3 bots allowed per environment</div>
            {% else %}
              <div class="play-mine-note">Upload Bot</div>
              <form method="POST" action="" enctype="multipart/form-data">
                {{ form.hidden_tag() }}
                {{ form.agent_file(class="play-upload-input") }}
                {{ form.submit(class="play-upload-btn") }}
              </form>
            {% endif %}
          {% else %}
            <div class="play-mine-note">Log in to upload your own bots!</div>
          {% endif %}
        </div>
      </section>
    </div>
  </div>
</aside>
