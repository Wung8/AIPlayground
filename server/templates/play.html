<!-- backend/templates/play.html -->
{% extends "base.html" %}
{% set active = "environments" %}
{% set title = "Play - " ~ env.title %}

{% block styles %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/play.css') }}">
{% endblock %}

{% block content %}
  <div class="play-shell" data-env-slug="{{ env.slug }}">
    {% include "_play_sidebar.html" %}

    <main class="play-main">
      <div class="play-main-head">
        <a class="play-back" href="{{ url_for('environments', slug=env.slug) }}">Back</a>

        <div class="play-main-row">
          <div class="play-title">{{ env.title }}</div>

          <div class="play-difficulty">
            <button class="play-diff-btn" data-diff="easy">Easy</button>
            <button class="play-diff-btn" data-diff="medium">Med</button>
            <button class="play-diff-btn" data-diff="hard">Hard</button>
          </div>

          <div></div> <!-- empty right spacer -->
        </div>
      </div>

      <div class="play-stage">
        <!-- replace this div with your real canvas -->
        <canvas id="game" width="800" height="400"></canvas>

        <div class="play-stage-controls">
          <button class="play-stage-btn" type="button" id="btnReset">Reset</button>
          <label class="play-stage-debug">
            Debug <input type="checkbox" id="chkDebug" />
          </label>
          <button class="play-stage-btn" type="button" id="btnFullscreen">Fullscreen</button>
        </div>
      </div>

      <div class="play-debug">
        <div class="play-debug-box" id="debugBox"></div>
      </div>
    </main>
  </div>
{% endblock %}

{% block scripts %}
  <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
  <script type="module" src="{{ url_for('static', filename='js/play.js') }}"></script>
{% endblock %}