<!-- backend/templates/environments.html -->
{% extends "base.html" %}
{% set active = "environments" %}
{% set title = "Environments" %}

{% macro stars(n) -%}
  {%- set n = 0 if n < 0 else (5 if n > 5 else n) -%}
  {{ "★" * n }}{{ "☆" * (5 - n) }}
{%- endmacro %}

{% block styles %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/environments.css') }}">
{% endblock %}

{% block content %}
  <div class="content">
    {% include "_sidebar.html" %}  
    
    <main class="main panel">
      <div class="panel-pad">
        <div class="panel-title">Environments</div>
        <div class="env-list">
          {% for e in environments %}
            <div class="env-card">
              <div class="env-card-left">
                <a class="env-h2" href="{{ url_for('play', slug=e.slug) }}">{{ e.title }}</a>
                <div class="env-diff">
                  <span class="env-diff-label">Difficulty:</span>
                  <span class="env-stars">{{ stars(e.difficulty) }}</span>
                </div>
                <div class="env-desc">{{ e.description }}</div>
                <a class="env-doc-link" href="{{ url_for('env_doc', slug=e.slug) }}">documentation</a>
              </div>
              <div class="env-card-right">
                <a class="env-img" href="{{ url_for('play', slug=e.slug) }}"></a>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    </main>
  </div>
{% endblock %}
